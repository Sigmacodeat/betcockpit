# env.example (Root) — Vorlage für docker-compose
# Hinweis: docker-compose liest ./.env. Kopiere diese Datei nach 
#   cp env.example .env

# --- Content Security Policy (CSP) ---
# Comma-separated list of allowed connect-src targets (fetch/XHR/WebSocket/EventSource)
# Include protocol, no trailing slash. For WebSockets use wss://
# Examples:
# CSP_CONNECT_SRC=https://api.example.com,wss://ws.example.com,https://*.your-domain.tld
CSP_CONNECT_SRC=

# If your frontend runs on a different origin and needs to call the provider-proxy, list it here (comma-separated)
# CORS_ORIGINS=http://localhost:3092,https://app.your-domain.tld

# Runtime
NODE_ENV=development
APP_NAME=sigmacode-ai
LOG_LEVEL=info
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
NODE_OPTIONS=--max-old-space-size=1024
TZ=Europe/Berlin

# Server
PORT=3080
HOST=0.0.0.0
DOMAIN_SERVER=http://localhost:3081
# Wichtig für OAuth-Redirects zurück zum Client (wird in api/server/routes/oauth.js genutzt)
DOMAIN_CLIENT=http://localhost:3092
CORS_ORIGINS=http://localhost:3092
VITE_API_TARGET=http://localhost:3081

# Auth
JWT_SECRET=CHANGE_ME_JWT_SECRET
SESSION_SECRET=CHANGE_ME_SESSION_SECRET
ALLOW_SOCIAL_LOGIN=true

# Database (MongoDB)
# Lokaler Mongo-Service aus docker-compose:
# Root-User/Pass: root / example (siehe Container-Env)
MONGODB_URI=mongodb://mongodb:27017/sigmacode
MONGODB_ROOT_USERNAME=root
MONGODB_ROOT_PASSWORD=example
MONGODB_DB=sigmacode

# Redis
REDIS_URL=redis://redis:6379

# Meilisearch
MEILI_HOST=http://meilisearch:7700
MEILI_MASTER_KEY=dev-meili-key
MEILI_INDEX=sigmacode

# Optional 3rd-party / Provider Keys (leer lassen für lokale Entwicklung)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_KEY=
GROQ_API_KEY=
MISTRAL_API_KEY=
OPENROUTER_KEY=
PERPLEXITY_API_KEY=

# OAuth (optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
# Wird in api/strategies/googleStrategy.js mit DOMAIN_SERVER zusammengefügt
# Finaler Callback = ${DOMAIN_SERVER}${GOOGLE_CALLBACK_URL}
# Beispiel lokal: http://localhost:3081/oauth/google/callback
GOOGLE_CALLBACK_URL=/oauth/google/callback

# IMAP (optional)
IMAP_HOST=
IMAP_PORT=993
IMAP_USER=
IMAP_PASS=
IMAP_TLS=true

# RAG Stub (siehe docker-compose Dienst rag-stub)
RAG_API_URL=http://rag-stub
